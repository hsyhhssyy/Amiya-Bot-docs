import{_ as s,o as a,c as n,V as l}from"./chunks/framework.fcd1db8a.js";const A=JSON.parse('{"title":"QQ ç¾¤æœºå™¨äºº Beta","description":"","frontmatter":{},"headers":[],"relativePath":"develop/adapters/qqGroup.md","filePath":"develop/adapters/qqGroup.md","lastUpdated":1705484369000}'),p={name:"develop/adapters/qqGroup.md"},o=l(`<h1 id="qq-ç¾¤æœºå™¨äºº-beta" tabindex="-1">QQ ç¾¤æœºå™¨äºº <span class="beta-tag">Beta</span> <a class="header-anchor" href="#qq-ç¾¤æœºå™¨äºº-beta" aria-label="Permalink to &quot;QQ ç¾¤æœºå™¨äºº &lt;span class=&quot;beta-tag&quot;&gt;Beta&lt;/span&gt;&quot;">â€‹</a></h1><p>åœ¨ <a href="https://bot.q.qq.com/wiki/#_2-%E4%BC%81%E4%B8%9A%E4%B8%BB%E4%BD%93%E5%85%A5%E9%A9%BB" target="_blank" rel="noreferrer">QQ å¼€æ”¾å¹³å°</a> å®Œæˆä¼ä¸šä¸»ä½“å…¥é©»ï¼Œå³å¯åˆ›å»ºå¯åœ¨ QQ ç¾¤èŠé‡Œä½¿ç”¨çš„ QQ ç¾¤æœºå™¨äººã€‚</p><h2 id="åœ¨å…¬ç½‘ä¸‹ä½¿ç”¨" tabindex="-1">åœ¨å…¬ç½‘ä¸‹ä½¿ç”¨ <a class="header-anchor" href="#åœ¨å…¬ç½‘ä¸‹ä½¿ç”¨" aria-label="Permalink to &quot;åœ¨å…¬ç½‘ä¸‹ä½¿ç”¨&quot;">â€‹</a></h2><p>QQ ç¾¤èŠé€‚é…å™¨éœ€è¦åœ¨æœ¬åœ°å¯åŠ¨èµ„æºæœåŠ¡è®©è…¾è®¯ç«¯èƒ½å¤Ÿè®¿é—®åª’ä½“èµ„æºï¼Œé»˜è®¤åœ¨å…¬ç½‘ä¸‹ä½¿ç”¨ã€‚</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> amiyabot</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">adapters</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tencent</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">qqGroup </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> qq_group</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">client_secret </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">******</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># å¯†é’¥</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">bot </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">AmiyaBot</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">appid</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">******</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">token</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">******</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">adapter</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">qq_group</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">client_secret</span><span style="color:#89DDFF;">))</span></span></code></pre></div><ul><li>åœ¨æœºå™¨äººå¯åŠ¨æ—¶ï¼Œèµ„æºæœåŠ¡ä¹Ÿä¼šä¸€åŒå¯åŠ¨ã€‚</li><li>é»˜è®¤çš„èµ„æºæœåŠ¡æ˜¯ç«¯å£å•ä¾‹çš„ï¼Œå®ä¾‹åŒ–å¤šä¸ª QQ ç¾¤èŠé€‚é…å™¨ AmiyaBot æˆ–ä½¿ç”¨ <a href="/develop/basic/multipleAccounts.html">å¤šè´¦å·</a> æ—¶ï¼ŒåŒä¸€ä¸ªç«¯å£çš„èµ„æºæœåŠ¡ä¼šç›¸äº’å…±äº«ã€‚</li></ul><h3 id="ä¿®æ”¹èµ„æºæœåŠ¡é…ç½®" tabindex="-1">ä¿®æ”¹èµ„æºæœåŠ¡é…ç½® <a class="header-anchor" href="#ä¿®æ”¹èµ„æºæœåŠ¡é…ç½®" aria-label="Permalink to &quot;ä¿®æ”¹èµ„æºæœåŠ¡é…ç½®&quot;">â€‹</a></h3><p>å¼•å…¥ <code>QQGroupChainBuilderOptions</code> ä¿®æ”¹é»˜è®¤çš„èµ„æºæœåŠ¡é…ç½®ã€‚</p><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>é‡Šä¹‰</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>host</td><td>str</td><td>èµ„æºæœåŠ¡ç›‘å¬åœ°å€</td><td>0.0.0.0</td></tr><tr><td>port</td><td>int</td><td>èµ„æºæœåŠ¡ç›‘å¬ç«¯å£</td><td>8086</td></tr><tr><td>resource_path</td><td>str</td><td>ä¸´æ—¶æ–‡ä»¶å­˜æ”¾ç›®å½•</td><td>./resource</td></tr><tr><td>http_server_options</td><td>dict</td><td><a href="/develop/advanced/httpSupport.html">HttpServer **kwargs</a></td><td></td></tr></tbody></table><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> amiyabot</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">adapters</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tencent</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">qqGroup </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> qq_group</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> amiyabot</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">adapters</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">tencent</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">qqGroup</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">builder </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> QQGroupChainBuilderOptions</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">bot </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">AmiyaBot</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#BABED8;font-style:italic;">appid</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">******</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#BABED8;font-style:italic;">token</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">******</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#BABED8;font-style:italic;">adapter</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">qq_group</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#BABED8;font-style:italic;">client_secret</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">******</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#BABED8;font-style:italic;">default_chain_builder_options</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">QQGroupChainBuilderOptions</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0.0.0.0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#F78C6C;">8086</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">            </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./resource</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="è‡ªå®šä¹‰èµ„æºæœåŠ¡" tabindex="-1">è‡ªå®šä¹‰èµ„æºæœåŠ¡ <a class="header-anchor" href="#è‡ªå®šä¹‰èµ„æºæœåŠ¡" aria-label="Permalink to &quot;è‡ªå®šä¹‰èµ„æºæœåŠ¡&quot;">â€‹</a></h2><p>å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬æ¨èä½¿ç”¨ç¬¬ä¸‰æ–¹æ‰˜ç®¡æœåŠ¡æ¥æ­å»ºèµ„æºæœåŠ¡ï¼Œå¦‚ <a href="https://www.baidu.com/s?wd=%E8%85%BE%E8%AE%AF%E4%BA%91COS" target="_blank" rel="noreferrer">è…¾è®¯äº‘COS</a> æˆ– <a href="https://www.baidu.com/s?wd=%E9%98%BF%E9%87%8C%E4%BA%91OSS" target="_blank" rel="noreferrer">é˜¿é‡Œäº‘OSS</a> ç­‰ã€‚</p><p>é€šè¿‡è‡ªå®šä¹‰é»˜è®¤çš„ <code>ChainBuilder</code>ï¼Œæ¥å®ç°ä¸Šä¼ æ–‡ä»¶åˆ°æ‰˜ç®¡æœåŠ¡ä»¥åŠè¿”å›ç”Ÿæˆçš„ urlã€‚</p><p>æ™®é€š ChainBuilder å¯å‚è€ƒ <a href="/develop/advanced/chainBuilder.html">è¿›é˜¶æŒ‡å— - ä»‹å…¥åª’ä½“æ¶ˆæ¯çš„æ„å»ºè¿‡ç¨‹</a> ï¼Œä½†åœ¨è¿™é‡Œæ›´æ¨èç»§æ‰¿é€‚é…å™¨ä¸­çš„ <code>QQGroupChainBuilder</code>ã€‚</p><h3 id="æ™®é€š-chainbuilder" tabindex="-1">æ™®é€š ChainBuilder <a class="header-anchor" href="#æ™®é€š-chainbuilder" aria-label="Permalink to &quot;æ™®é€š ChainBuilder&quot;">â€‹</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> typing </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Union</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> graiax </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> silkcoder</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> amiyabot </span><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> ChainBuilder</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MyBuilder</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ChainBuilder</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">classmethod</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">get_image</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">cls</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">image</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Union</span><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">bytes</span><span style="color:#89DDFF;">])</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#BABED8;"> Union</span><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">bytes</span><span style="color:#89DDFF;">]:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;"># ä¸Šä¼ å›¾ç‰‡åˆ°ç¬¬ä¸‰æ–¹æ‰˜ç®¡æœåŠ¡</span></span>
<span class="line"><span style="color:#BABED8;">        ...</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> url </span><span style="color:#676E95;font-style:italic;"># è¿”å›è®¿é—®èµ„æºçš„ URL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">classmethod</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">get_voice</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">cls</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">voice_file</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;"># ä¸Šä¼ è¯­éŸ³æ–‡ä»¶åˆ°ç¬¬ä¸‰æ–¹æ‰˜ç®¡æœåŠ¡ï¼Œè¯­éŸ³æ–‡ä»¶å¿…é¡»æ˜¯ silk æ ¼å¼</span></span>
<span class="line"><span style="color:#BABED8;">        voice</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">bytes</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> silkcoder</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">async_encode</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">voice_file</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">ios_adaptive</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"><span style="color:#BABED8;">        ...</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> url </span><span style="color:#676E95;font-style:italic;"># è¿”å›è®¿é—®èµ„æºçš„ URL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">classmethod</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">def</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">get_video</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">cls</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">video_file</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#676E95;font-style:italic;"># ä¸Šä¼ è§†é¢‘æ–‡ä»¶åˆ°ç¬¬ä¸‰æ–¹æ‰˜ç®¡æœåŠ¡</span></span>
<span class="line"><span style="color:#BABED8;">        ...</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> url </span><span style="color:#676E95;font-style:italic;"># è¿”å›è®¿é—®èµ„æºçš„ URL</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">bot </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">AmiyaBot</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">...</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#BABED8;font-style:italic;">adapter</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">qq_group</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">default_chain_builder</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">MyBuilder</span><span style="color:#89DDFF;">()))</span></span></code></pre></div><h3 id="ç»§æ‰¿-qqgroupchainbuilder" tabindex="-1">ç»§æ‰¿ QQGroupChainBuilder <a class="header-anchor" href="#ç»§æ‰¿-qqgroupchainbuilder" aria-label="Permalink to &quot;ç»§æ‰¿ QQGroupChainBuilder&quot;">â€‹</a></h3><p>ğŸš§ æ–‡æ¡£ç¼–å†™ä¸­... ğŸš§</p>`,18),t=[o];function e(r,c,y,D,F,i){return a(),n("div",null,t)}const d=s(p,[["render",e]]);export{A as __pageData,d as default};
